(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4110:(e,t,n)=>{Promise.resolve().then(n.bind(n,7441))},7441:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var a=n(5155),s=n(2115);let o=null,r=null;async function c(){if(o&&r&&Date.now()<r)return o;let e=await fetch("https://eu-north-1tghnjih8v.auth.eu-north-1.amazoncognito.com/oauth2/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa("".concat("3s092bu7p5c5e51j47rtn65jfp",":").concat("1ntsjhst4pkjddsae1oqh6rag66nmbu9uoian7qkdnqqsdedf2b8"))},body:new URLSearchParams({grant_type:"client_credentials"})});if(!e.ok)throw Error("Failed to authenticate with Cognito");let t=await e.json();return o=t.access_token,r=Date.now()+1e3*t.expires_in,o}async function i(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await c(),s=await fetch("".concat("https://st7zxdu7ti.execute-api.eu-north-1.amazonaws.com").concat(e),{...n,headers:{...null!==(t=n.headers)&&void 0!==t?t:{},Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(!s.ok)throw Error("API error: ".concat(s.status));return s.json()}async function l(e){return await i("/recommend?search=".concat(encodeURIComponent(e)))}function u(){let[e,t]=(0,s.useState)("Metallica"),[n,o]=(0,s.useState)([]),[r,c]=(0,s.useState)(null),[i,u]=(0,s.useState)(!1);async function h(){if(e.trim()){u(!0),c(null);try{let t=await l(e);o(t.artists||[])}catch(e){c(e instanceof Error?e.message:String(e))}finally{u(!1)}}}return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Music Recommendations"}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"border p-2 w-80",placeholder:"Search for an artist..."}),(0,a.jsx)("button",{onClick:h,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition",children:"Search"})]}),i&&(0,a.jsx)("p",{className:"mt-4",children:"Loading..."}),r&&(0,a.jsxs)("p",{className:"mt-4 text-red-500",children:["Error: ",r]}),(0,a.jsx)("ul",{className:"list-disc text-left mt-4",children:n.length>0?n.map((e,t)=>(0,a.jsx)("li",{className:"text-lg",children:e},t)):!i&&(0,a.jsx)("p",{children:"No recommendations found."})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,587,358],()=>t(4110)),_N_E=e.O()}]);