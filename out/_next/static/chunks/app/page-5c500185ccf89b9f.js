(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4110:(e,t,o)=>{Promise.resolve().then(o.bind(o,9809))},6046:(e,t,o)=>{"use strict";var r=o(6658);o.o(r,"useRouter")&&o.d(t,{useRouter:function(){return r.useRouter}})},9084:()=>{},9809:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var r=o(5155),a=o(2115),n=o(6046);o(9084);let s=()=>{let e=(0,n.useRouter)(),[t,o]=(0,a.useState)(null),s=e=>{let t="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t+=o.charAt(Math.floor(Math.random()*o.length));return t};return(0,a.useEffect)(()=>{let t=localStorage.getItem("spotify_access_token"),r=localStorage.getItem("spotify_token_expiration");if(t&&r){if(Date.now()<parseInt(r)){console.log("Valid token found. Redirecting to /callback..."),e.replace("/callback");return}console.log("Token expired. Clearing storage and showing login button."),localStorage.removeItem("spotify_access_token"),localStorage.removeItem("spotify_token_expiration")}window.localStorage.setItem("token","");let a="aa2fe3a235db42509cdf54ee1a6838b2",n="https://recommend-music-46f57.web.app/callback/";if(!a||!n){console.log("Missing Spotify environment variables");return}let c=s(16),l="".concat("https://accounts.spotify.com/authorize","?")+"client_id=".concat(a)+"&redirect_uri=".concat(n)+"&state=".concat(c)+"&response_type=".concat("token")+"&scope=".concat("user-read-private user-read-email user-top-read user-follow-read");console.log("Redirect URL: ".concat(n)),o(l)},[e]),(0,r.jsxs)("div",{className:"main-container",children:[(0,r.jsx)("h1",{children:"Display your artists!"}),(0,r.jsx)("h2",{children:"In order to see your artists, you need to click the button below."}),t&&(0,r.jsx)("a",{href:t,children:(0,r.jsx)("button",{className:"spotify-btn",children:"Log into Spotify"})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[829,441,587,358],()=>t(4110)),_N_E=e.O()}]);